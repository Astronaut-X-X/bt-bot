
# 需求设计

---
+ 创建时间: 2026.02.11
---

## 下载功能（核心功能）
1. 根据用户发送的 mganet 链接，解析出文件返回给用户
2. 用户根据需要点击某个文件，进行下载，或下载全部文件
3. 下载好的文件，以消息形式发送回用户

注意事项：
1. 注意提示用户链接的有效性，响应较慢时与程序无关，增加用户的认可
2. bot API 发送文件的大小限制，需要被考虑到
3. 创建一个群分享给该用户加入，下载完成的视频数据都通过该群发送

## 文件缓存
1. 发送到频道里，一条消息根据 magnet 作为消息，评论里面才是文件

## 并发能力
1. 是否需要增加并发解析，下载功能
2. 用户非会员只能同时处理一个下载
3. 会员用户可以同时处理8个解析，下载

## 用户管理
1. 给用户分配一个UUID，UUID是用户的唯一标识
2. 多个 UserId 可以绑定在同个 UUID 上
3. UUID 与订阅服务关联和免费次数等有关连
4. 语言管理设置用户使用消息的语言

## 收费管理
1. 创建订单收取 USDT-TRC20

## 发送帐号
1. bot API 发送文件限制原因
2. 通过至少3个帐号创建群，并在这个三个帐号中随机选一个帐号进行发送视频
3. 帐号登录管理
4. 创建一个频道，在频道里发消息，在评论文件，防止被封

注意事项：
订单超时、收取


## 阶段

### 第一阶段

先完成上述基础功能
每个用户只能一次下载一个文件并且每天限制 10 次，同时 文件大小小于 1.5 GB

### 第二阶段

> 进入条件：用户数量到达 10 个后

增加上传 torrent 文件解析功能
优化下载大小功能
增加收费功能 订阅用户 不限限制次数
并行下载 3 个，同时文件大小不大于 10 GB

### 第三阶段

优化升级
增加节点选择功能，不同地区的节点，提供给高级用户


## 杂项

用户绑定UUID
订阅收费
免费次数和免费文件大小

---

参考资料：
https://quaily.com/overseas/p/saas-pricing-diagnosis-self-competition-pricing-table-three-psychology-tricks
